{% extends 'base_init.html' %}

{% block content %}
    <h2>{% block title %} S3 Storage {% endblock %}</h2>

    <p>
        <h4>Upload your file here:</h4>
        <form method="POST" action="{{ url_for('post_upload') }}" enctype=multipart/form-data>
        <input type=file name=file accept="image/gif, image/jpeg, image/png">
        <input type=submit value=Upload>
        </form>
    </p>

    <br><hr><br>
    
    <p>
        <h4>These are your uploaded files:</h4>
        Click on the options to download or delete them.<br>Below are the markdown snippets.
        <ul>
        {% for item in contents %}
            <li>
                <b>{{ item.Key }}</b>: [<a href="{{ url_for('get_download', creatorname='.', filename=item.Key) }}">download</a>, <a href="{{ url_for('get_delete', creatorname='.', filename=item.Key) }}">delete</a>]<br>
                ![{{ item.Key }}](https://s3.hidrive.strato.com/kringle-public/{{ item.Key }})
            </li>
        {% endfor %}
        </ul>
    </p>
{% endblock %}
